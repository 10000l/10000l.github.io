import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o,c as e,e as p}from"./app-C9BeCxEA.js";const l={},r=p('<h1 id="xtp-quoteapi使用udp常见问题" tabindex="-1"><a class="header-anchor" href="#xtp-quoteapi使用udp常见问题"><span>XTP QuoteAPI使用UDP常见问题</span></a></h1><p><strong>1.问：采用UDP需要注意哪些问题？</strong></p><blockquote><p>答：1.1.16.9以上版本的quote api推荐采用UDP方式获取行情。采用UDP连接时，需要注意以下几点：</p><ol><li>使用订阅/退订函数，请注意配对使用，不支持全订阅后，再退订部分，或者订阅部分再全退订。</li><li>连接时涉及到UDP接收缓存，缓存区的大小可以由用户设定，最小不能低于64MB。如果用户处理慢了，在缓存满的情况下，UDP下会出现丢包情况，因此在允许的情况下，请适当的设置大点，注意请按2的次方设置。建议1024M。</li><li>在UDP连接情况下，也是有TCP连接的，如果发生断线回调，说明TCP已经断线，不表明UDP断线，行情可能还在正常接收。</li></ol></blockquote><p><strong>2.问：设置UDP缓存，多少合适？</strong></p><blockquote><p>答：推荐采用512MB以上，最低不能低于256MB。当然，如果尽可能多的话更好。</p></blockquote><p><strong>3.问：采用UDP连接后无法收到行情数据？</strong></p><blockquote><p>答：按照以下方法处理：</p><ol><li>请检查是否关闭了防火墙。</li><li>请检查路由是否支持UDP组播。</li><li>请检查与服务器之间UDP组播是否通畅。</li></ol><p>如果以上均没有问题，有可能你所订阅的合约，交易所没有下发行情数据（测试环境下会发生，因为交易量小，不是所有股票都有行情，此时可以尝试报单驱动一下行情）</p></blockquote><p><strong>4.问：行情回调函数中，采用何种方式处理数据，才不容易因缓存满而导致的丢包？</strong></p><blockquote><p>答：收到行情数据后，请将行情数据用memcpy到另外的内存中，然后在另一个线程中处理。</p></blockquote><p><strong>5.问：可以使用TCP连接获取行情么？</strong></p><blockquote><p>答：虽然支持TCP连接获取行情，可是由于行情数据量巨大，会导致数据阻塞在服务器，用户收到的行情数据严重延迟。所以如非必要，请选择UDP方式连接。</p></blockquote><p><strong>6.问：如果我要订阅大部分的市场行情，可否采用先调用全市场订阅函数，然后再调用退订部分行情的方法做到？</strong></p><blockquote><p>答：不支持这种方式，请选择配对的订阅/退订函数。</p></blockquote><p><strong>7.问：UDP有断线提示么？</strong></p><blockquote><p>答：UDP目前没有断线提示，在UDP方式下，会有TCP的断线提示。TCP断线不代表UDP断线。可能行情数据能继续收到。</p></blockquote><p><strong>8.问：订阅行情返回成功后，为何行情数据推送间隔很长？</strong></p><blockquote><p>答：行情的推送跟交易所有关，如果你订阅的合约行情不怎么变化，确实会很长时间行情不动，进而没有行情数据。或者在盘后，可能1分钟才推送一次数据。</p></blockquote><p><strong>9.问：采用TCP连接和UDP连接在接口调用上有什么不同？</strong></p><blockquote><p>答：接口调用方式上相同。如果在行情回调函数中处理速度慢了，会有不同的表现：</p><ol><li>TCP上表现为行情延迟或者因为缓存满了，引发掉线。</li><li>UDP上表现为缓存满了，引发丢包。建议将UDP的缓存开大点，可以通过SetUDPBufferSize()接口设置。</li></ol></blockquote><p><strong>10.问：OrderBook全市场支持么？</strong></p><blockquote><p>答：目前仅南方中心机房的Level2服务器支持，且只有深圳市场。</p></blockquote><p><strong>11.问：可以收到全市场的level2行情么？</strong></p><blockquote><p>答：可以。</p></blockquote><p><strong>12.问：OrderBook是交易所的数据么？</strong></p><blockquote><p>答：OrderBook是我们根据level2的行情快照+逐笔数据重建出来的快照数据，频率比level2的行情快照要高，因此又被称为level2plus。目前仅在南方中心机房Level2服务器上提供，且只有深圳市场有。</p></blockquote>',25),P=[r];function c(n,i){return o(),e("div",null,P)}const u=t(l,[["render",c],["__file","XTP QuoteAPI使用UDP常见问题.html.vue"]]),D=JSON.parse('{"path":"/docs/XTP%20QuoteAPI%E4%BD%BF%E7%94%A8UDP%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/XTP%20QuoteAPI%E4%BD%BF%E7%94%A8UDP%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html","title":"XTP QuoteAPI使用UDP常见问题","lang":"zh-CN","frontmatter":{"description":"XTP QuoteAPI使用UDP常见问题 1.问：采用UDP需要注意哪些问题？ 答：1.1.16.9以上版本的quote api推荐采用UDP方式获取行情。采用UDP连接时，需要注意以下几点： 使用订阅/退订函数，请注意配对使用，不支持全订阅后，再退订部分，或者订阅部分再全退订。 连接时涉及到UDP接收缓存，缓存区的大小可以由用户设定，最小不能低于6...","head":[["meta",{"property":"og:url","content":"https://10000l.github.io/docs/XTP%20QuoteAPI%E4%BD%BF%E7%94%A8UDP%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/XTP%20QuoteAPI%E4%BD%BF%E7%94%A8UDP%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html"}],["meta",{"property":"og:site_name","content":"Docs Demo"}],["meta",{"property":"og:title","content":"XTP QuoteAPI使用UDP常见问题"}],["meta",{"property":"og:description","content":"XTP QuoteAPI使用UDP常见问题 1.问：采用UDP需要注意哪些问题？ 答：1.1.16.9以上版本的quote api推荐采用UDP方式获取行情。采用UDP连接时，需要注意以下几点： 使用订阅/退订函数，请注意配对使用，不支持全订阅后，再退订部分，或者订阅部分再全退订。 连接时涉及到UDP接收缓存，缓存区的大小可以由用户设定，最小不能低于6..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-03T15:52:56.000Z"}],["meta",{"property":"article:author","content":"xtp_master"}],["meta",{"property":"article:modified_time","content":"2024-06-03T15:52:56.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"XTP QuoteAPI使用UDP常见问题\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-03T15:52:56.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xtp_master\\",\\"url\\":\\"https://xtp.zts.com.cn\\"}]}"]]},"headers":[],"git":{"createdTime":1717429976000,"updatedTime":1717429976000,"contributors":[{"name":"linxiaolx-lx","email":"1247776138@qq.com","commits":1}]},"readingTime":{"minutes":3.29,"words":988},"filePathRelative":"docs/XTP QuoteAPI使用UDP常见问题/XTP QuoteAPI使用UDP常见问题.md","localizedDate":"2024年6月3日","autoDesc":true}');export{u as comp,D as data};
