<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.41" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://10000l.github.io/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E4%BB%8B%E7%BB%8D.html"><meta property="og:site_name" content="Docs Demo"><meta property="og:title" content="版本更新介绍"><meta property="og:description" content="版本更新介绍 文档版本与重要更新 版本 更新历史 文档版本与重要更新 描述主要和重要更新内容。 版本 V2.2.39.3 更新历史 version 2.2.39.3 （1）修复因与quote服务器协议不一致导致crash的bug version 2.2.39.2 （1）QuoteSpi中新增逐笔行情丢包通知函数OnTickByTickLossRange..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-06-03T15:52:56.000Z"><meta property="article:author" content="xtp_master"><meta property="article:modified_time" content="2024-06-03T15:52:56.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"版本更新介绍","image":[""],"dateModified":"2024-06-03T15:52:56.000Z","author":[{"@type":"Person","name":"xtp_master","url":"https://xtp.zts.com.cn"}]}</script><title>版本更新介绍 | Docs Demo</title><meta name="description" content="版本更新介绍 文档版本与重要更新 版本 更新历史 文档版本与重要更新 描述主要和重要更新内容。 版本 V2.2.39.3 更新历史 version 2.2.39.3 （1）修复因与quote服务器协议不一致导致crash的bug version 2.2.39.2 （1）QuoteSpi中新增逐笔行情丢包通知函数OnTickByTickLossRange...">
    <link rel="preload" href="/assets/style-Dd6O2LES.css" as="style"><link rel="stylesheet" href="/assets/style-Dd6O2LES.css">
    <link rel="modulepreload" href="/assets/app-C9BeCxEA.js"><link rel="modulepreload" href="/assets/版本更新介绍.html-Dyo3hkY4.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-Dai6A3q2.js" as="script"><link rel="prefetch" href="/assets/disable.html-CcyhMzm1.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-BIoWu_03.js" as="script"><link rel="prefetch" href="/assets/layout.html-CwJNat8r.js" as="script"><link rel="prefetch" href="/assets/markdown.html-BEwqq3Yt.js" as="script"><link rel="prefetch" href="/assets/page.html-DWuPxPA8.js" as="script"><link rel="prefetch" href="/assets/XTP交易Trader-API使用指南QuickStart.html-DcUuPDq0.js" as="script"><link rel="prefetch" href="/assets/XTP交易分页查询示例代码.html-iXOJkFR1.js" as="script"><link rel="prefetch" href="/assets/XTP行情Quote-API断线后应对措施.html-B7-z4Qhc.js" as="script"><link rel="prefetch" href="/assets/QuoteApi.html-CdlO6WKK.js" as="script"><link rel="prefetch" href="/assets/QuoteSpi.html-ZrMQ5YGd.js" as="script"><link rel="prefetch" href="/assets/TraderApi.html-CRFX3sMP.js" as="script"><link rel="prefetch" href="/assets/TraderSpi.html-BHPpE2Hl.js" as="script"><link rel="prefetch" href="/assets/头文件.html-BCN5UTKX.js" as="script"><link rel="prefetch" href="/assets/支持平台.html-Dkq2wS5D.js" as="script"><link rel="prefetch" href="/assets/类库文件.html-aXoXDpIk.js" as="script"><link rel="prefetch" href="/assets/XTP关于L2行情数据回补功能的使用说明.html-DBZiJVPC.js" as="script"><link rel="prefetch" href="/assets/XTP报单接口示例代码文档.html-CubbDj_z.js" as="script"><link rel="prefetch" href="/assets/XTP行情Quote-API使用指南QuickStart.html-DZmbazxU.js" as="script"><link rel="prefetch" href="/assets/XTP新债申购逻辑示例代码.html-BWjpGM7U.js" as="script"><link rel="prefetch" href="/assets/XTP新股申购逻辑示例代码.html-euQq34gc.js" as="script"><link rel="prefetch" href="/assets/资金划拨接口的示例代码.html-CgTUYGlS.js" as="script"><link rel="prefetch" href="/assets/XTP配股逻辑示例代码.html-D0DGy2u3.js" as="script"><link rel="prefetch" href="/assets/XTP QuoteAPI使用UDP常见问题.html-DutQxdXs.js" as="script"><link rel="prefetch" href="/assets/XTP上交所新债券 Level2 行情说明.html-COy5HmvT.js" as="script"><link rel="prefetch" href="/assets/API常见问题.html-BHSHwKy5.js" as="script"><link rel="prefetch" href="/assets/XTP交易业务报单接口及参数说明.html-Dq8W5uIQ.js" as="script"><link rel="prefetch" href="/assets/XTP支持上海Level2逐笔合并说明.html-UmXq-NGB.js" as="script"><link rel="prefetch" href="/assets/XTP撤单建议.html-DknWur9u.js" as="script"><link rel="prefetch" href="/assets/XTP支持上海Level2逐笔委托说明.html-DzUwV4RA.js" as="script"><link rel="prefetch" href="/assets/XTP模拟测试环境常见问题.html-Bu8iRbF3.js" as="script"><link rel="prefetch" href="/assets/XTP行情服务接入前指引文档.html-Bf8UePdV.js" as="script"><link rel="prefetch" href="/assets/XTP逐笔数据结构体字段说明.html-CYQchIkl.js" as="script"><link rel="prefetch" href="/assets/XTP金融风控指标.html-oJxfBtVT.js" as="script"><link rel="prefetch" href="/assets/XTP错误代码速查表.html-Ba3A2UCM.js" as="script"><link rel="prefetch" href="/assets/xtp订单的状态机图.html-BoukpO-y.js" as="script"><link rel="prefetch" href="/assets/产品简介.html-CJUOaJrX.js" as="script"><link rel="prefetch" href="/assets/公网测试环境模拟撮合错误代码表.html-CfZzHroP.js" as="script"><link rel="prefetch" href="/assets/核心功能.html-yGbOnHiG.js" as="script"><link rel="prefetch" href="/assets/测试环境模拟撮合规则.html-DID_SPCw.js" as="script"><link rel="prefetch" href="/assets/算法流控及母单参数类型说明.html-B67k0opP.js" as="script"><link rel="prefetch" href="/assets/404.html-CQXoZoxt.js" as="script"><link rel="prefetch" href="/assets/index.html-BYJcuSo-.js" as="script"><link rel="prefetch" href="/assets/index.html-Dh0ip4uO.js" as="script"><link rel="prefetch" href="/assets/index.html-t4Xmed27.js" as="script"><link rel="prefetch" href="/assets/index.html-DVCq-ZgS.js" as="script"><link rel="prefetch" href="/assets/index.html-B3h0KiAd.js" as="script"><link rel="prefetch" href="/assets/index.html-BVNg8Arf.js" as="script"><link rel="prefetch" href="/assets/index.html-DzFHhHK9.js" as="script"><link rel="prefetch" href="/assets/index.html-Cq2Ax-N9.js" as="script"><link rel="prefetch" href="/assets/index.html-RSI4y10W.js" as="script"><link rel="prefetch" href="/assets/index.html-GInLtDys.js" as="script"><link rel="prefetch" href="/assets/index.html-wF05f9Sz.js" as="script"><link rel="prefetch" href="/assets/index.html-W-tDaFDj.js" as="script"><link rel="prefetch" href="/assets/index.html-D9uF21oY.js" as="script"><link rel="prefetch" href="/assets/index.html-Dw96UlLJ.js" as="script"><link rel="prefetch" href="/assets/index.html-DJYS2g4v.js" as="script"><link rel="prefetch" href="/assets/index.html-CPQpryqe.js" as="script"><link rel="prefetch" href="/assets/index.html-Dj07ZedY.js" as="script"><link rel="prefetch" href="/assets/index.html-0lTYRdJ6.js" as="script"><link rel="prefetch" href="/assets/index.html-CLU_Tyvo.js" as="script"><link rel="prefetch" href="/assets/index.html-BlB2jnqR.js" as="script"><link rel="prefetch" href="/assets/index.html-CqNFCFZB.js" as="script"><link rel="prefetch" href="/assets/index.html-k_q13hb0.js" as="script"><link rel="prefetch" href="/assets/index.html-S1lFBJKJ.js" as="script"><link rel="prefetch" href="/assets/index.html-cZLmCzUa.js" as="script"><link rel="prefetch" href="/assets/index.html-C_km2rpE.js" as="script"><link rel="prefetch" href="/assets/index.html-9uUZqByM.js" as="script"><link rel="prefetch" href="/assets/index.html-aCIw855t.js" as="script"><link rel="prefetch" href="/assets/index.html-BETIocnR.js" as="script"><link rel="prefetch" href="/assets/index.html-DRxJieaJ.js" as="script"><link rel="prefetch" href="/assets/index.html-BEpelw_C.js" as="script"><link rel="prefetch" href="/assets/index.html-BnQcMVOf.js" as="script"><link rel="prefetch" href="/assets/giscus--_FS5kYt.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script"><link rel="prefetch" href="/assets/style-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/docsearch-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/index-zMbLkDvU.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/docs/"><img class="vp-nav-logo" src="https://theme-hope-assets.vuejs.press/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">Docs Demo</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link vp-link" href="/docs/" aria-label="文档"><!---->文档<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">测试环境模拟撮合规则</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">产品简介</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">公网测试环境模拟撮合错误代码表</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">核心功能</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">算法流控及母单参数示例</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">API DOC 资金划拨接口的示例代码</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">API DOC XTP API接口说明与示例代码 XAlgo</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/%E7%B1%BB%E5%BA%93%E6%96%87%E4%BB%B6.html" aria-label="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/%E7%B1%BB%E5%BA%93%E6%96%87%E4%BB%B6.html"><!---->/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/%E7%B1%BB%E5%BA%93%E6%96%87%E4%BB%B6.html<!----></a></li><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/%E5%A4%B4%E6%96%87%E4%BB%B6.html" aria-label="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/%E5%A4%B4%E6%96%87%E4%BB%B6.html"><!---->/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/%E5%A4%B4%E6%96%87%E4%BB%B6.html<!----></a></li><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/%E6%94%AF%E6%8C%81%E5%B9%B3%E5%8F%B0.html" aria-label="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/%E6%94%AF%E6%8C%81%E5%B9%B3%E5%8F%B0.html"><!---->/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/%E6%94%AF%E6%8C%81%E5%B9%B3%E5%8F%B0.html<!----></a></li><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/QuoteApi.html" aria-label="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/QuoteApi.html"><!---->/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/QuoteApi.html<!----></a></li><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/QuoteSpi.html" aria-label="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/QuoteSpi.html"><!---->/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/QuoteSpi.html<!----></a></li><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/TraderApi.html" aria-label="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/TraderApi.html"><!---->/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/TraderApi.html<!----></a></li><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/TraderSpi.html" aria-label="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/TraderSpi.html"><!---->/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/TraderSpi.html<!----></a></li><li><a class="route-link active vp-link vp-sidebar-link vp-sidebar-page active" href="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E4%BB%8B%E7%BB%8D.html" aria-label="版本更新介绍"><!---->版本更新介绍<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">API DOC XTP报单接口示例代码文档</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">API DOC XTP关于 L2行情数据回补功能的使用说明</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">API DOC XTP交易 Trader API使用指南 Quick Start</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">API DOC XTP交易分页查询示例代码</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">API DOC XTP配股逻辑示例代码</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">API DOC XTP新股申购逻辑示例代码</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">API DOC XTP新债申购逻辑示例代码</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">API DOC XTP行情 Quote API断线后应对措施</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">API DOC XTP行情 Quote API使用指南 Quick Start</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">API常见问题</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">XTP Quote API使用 UDP常见问题</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">XTP撤单建议</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">XTP错误代码速查表</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Xtp订单的状态机图</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">XTP交易业务报单接口参数说明</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">XTP金融风控指标</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">XTP模拟测试环境常见问题</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">XTP上交所新债券 Level2 行情说明</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">XTP行情服务接入前指引</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">XTP支持上海 Level2逐笔合并说明</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">XTP支持上海 Level2逐笔委托说明</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">XTP逐笔数据结构体字段说明</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->版本更新介绍</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://xtp.zts.com.cn" target="_blank" rel="noopener noreferrer">xtp_master</a></span><span property="author" content="xtp_master"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-06-03T15:52:56.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 16 分钟</span><meta property="timeRequired" content="PT16M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!--[--><!----><!--]--><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#文档版本与重要更新">文档版本与重要更新</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#版本">版本</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#更新历史">更新历史</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="版本更新介绍" tabindex="-1"><a class="header-anchor" href="#版本更新介绍"><span>版本更新介绍</span></a></h1><!-- TOC --><ul><li><a href="#%E6%96%87%E6%A1%A3%E7%89%88%E6%9C%AC%E4%B8%8E%E9%87%8D%E8%A6%81%E6%9B%B4%E6%96%B0">文档版本与重要更新</a></li><li><a href="#%E7%89%88%E6%9C%AC">版本</a></li><li><a href="#%E6%9B%B4%E6%96%B0%E5%8E%86%E5%8F%B2">更新历史</a></li></ul><!-- /TOC --><p><br><br></p><h2 id="文档版本与重要更新" tabindex="-1"><a class="header-anchor" href="#文档版本与重要更新"><span>文档版本与重要更新</span></a></h2><p>描述主要和重要更新内容。</p><br><h2 id="版本" tabindex="-1"><a class="header-anchor" href="#版本"><span>版本</span></a></h2><p>V2.2.39.3</p><br><h2 id="更新历史" tabindex="-1"><a class="header-anchor" href="#更新历史"><span>更新历史</span></a></h2><p>version 2.2.39.3<br> （1）修复因与quote服务器协议不一致导致crash的bug</p><p>version 2.2.39.2<br> （1）QuoteSpi中新增逐笔行情丢包通知函数OnTickByTickLossRange()<br> （2）QuoteSpi中新增ETFIOPV行情回调函数OnETFIOPVData()</p><p>version 2.2.38.1<br> （1）XTP_SECURITY_TYPE中新增商品期货ETF XTP_SECURITY_ETF_COMMODITY_FUTURES = 22枚举值 （2）TraderApi新增新债信息查询接口QueryBondIPOInfoList以及响应接口OnQueryBondIPOInfoList</p><p>version 2.2.37.4<br> （1）XTP_SECURITY_TYPE新增现金债券ETF XTP_SECURITY_TYPE_ETF_CASH_BOND枚举值</p><p>version 2.2.36.1<br> （1）新三板全量静态信息结构体XTPNQFI中启用保留字段，新增分层信息layer_type、是否融资标的is_rzbd、是否融券标的is_rqbd、是否当日可融资is_drrz、是否当日可融券is_drrq等字段<br> （2）TraderApi中新增修改已有的算法单接口ModifyAlgoOrder()<br> （3）TraderSpi中新增修改已有策略单的响应接口OnModifyAlgoOrder()</p><p>version 2.2.35.1<br> （1）XTP_BUSINESS_TYPE证券业务类型新增债转股业务XTP_BUSINESS_TYPE_BOND_SWAP_STOCK枚举值<br> （2）TraderApi中新增债转股信息查询接口QueryBondSwapStockInfo()<br> （3）TraderSpi中新增债转股信息查询应答响应接口OnQueryBondSwapStockInfo()</p><p>version 2.2.34.10<br> （1）查询持仓结构体XTPQueryStkPositionRsp中新增昨日买入成本last_buy_cost、昨日盈亏成本last_profit_cost字段</p><p>version 2.2.34.9</p><p>（1）修复quote lib中单订阅新三板行情时，无法正确推送快照数据的bug<br> （2）资金流转方向XTP_FUND_TRANSFER_TYPE 新增信用双中心设置账户的资金划拨方向<br> （3）柜台资金查询类型XTP_FUND_QUERY_TYPE新增信用双中心设置账户的资金查询类型</p><p>version 2.2.34.8</p><p>（1）修复trader lib中分页查询组合策略期权成交的接口没有正确报送的bug</p><p>version 2.2.34.7</p><p>（1）融资融券账户附加信息结构体XTPCrdFundExtraInfo中启用预留字段，新增证券市值security_capital、融资负债financing_debts、融券负债short_sell_debts、授信总额度contract_debts_load这4个字段 （2）TraderApi中新增请求推荐算法接口StrategyRecommendation() （3）TraderSpi中新增推荐算法的响应接口OnStrategyRecommendation() （4）TraderSpi中新增母单创建时的推送消息响应接口OnNewStrategyCreateReport()</p><p>version 2.2.34.6</p><p>（1）XTP_MARKET_TYPE 新增2个枚举值：北京A XTP_MKT_BJ_A、港股 XTP_MKT_HK<br> （2）债券额外数据结构体XTPMarketDataBondExData中新增2个字段：匹配成交成交量(SZ)match_qty和匹配成交成交金额(SZ)match_turnover<br> （3）QuoteApi支持新三板行情：订阅、取消订阅、查询<br> （4）QuoteApi新增查询新三板合约完整静态信息请求函数QueryAllNQTickersFullInfo()<br> （5）QuoteSpi新增查询新三板合约完整静态信息应答回调函数OnQueryAllNQTickersFullInfo()<br> （6）查询持仓结构体XTPQueryStkPositionRsp中新增义务仓占用保证金margin字段<br> （7）查询期权组合策略持仓信息结构体XTPQueryOptCombPositionRsp中新增组合占用公司保证金secu_comb_margin字段</p><p>version 2.2.33.5</p><p>（1）QuoteSpi新增与行情回补服务器断开的回调函数 OnRebuildQuoteServerDisconnected() （2）QuoteSpi新增回补请求应答OnRequestRebuildQuote() （3）QuoteSpi新增逐笔数据回补响应函数OnRebuildTickByTick() （4）QuoteSpi新增快照数据回补响应函数OnRebuildMarketData() （5）QuoteApi新增登陆回补行情服务器请求函数LoginToRebuildQuoteServer() （6）QuoteApi新增登出回补行情服务器请求函数LogoutFromRebuildQuoteServer() （7）QuoteApi新增请求回补指定行情接口函数RequestRebuildQuote() （8）TradeAPI新增预先获取订单的xtp_id接口GetANewOrderXTPID() （9）TradeAPI新增预设xtpid的报单接口InsertOrderExtra() （10）TradeAPI新增预设xtpid的组合策略期权报单接口InsertOptionCombinedOrderExtra() （11）债券额外数据结构体XTPMarketDataBondExData中新增匹配成交最近价(SZ)match_lastpx 、债券加权平均价格(SH)ma_bond_price，当日均价avg_price变成保留字段 （12）成交类型TXTPTradeTypeType新增枚举值：港市资金成交XTP_TRDT_HK_MKT_CASH、非沪深资金成交XTP_TRDT_NON_SHSZ_MKT_CASH （13）查询持仓结构体XTPQueryStkPositionRsp中新增持仓市值market_value字段 （14）TradeAPI新增策略中指定证券的执行状态通知接口OnStrategySymbolStateReport() （15）修复quote库断线后无法再次登陆的bug</p><p>version 2.2.32.2</p><p>（1）修复bug</p><p>version 2.2.32.1</p><p>（1）行情快照结构体XTPMD中新增行情快照数据类型data_type_v2，以便更详细区分各种快照数据 （2）行情快照结构体XTPMD的联合体中新增债券额外信息结构体XTPMarketDataBondExData</p><p>version 2.2.31.2</p><p>（1）逐笔信息结构体XTPTBT的联合体中新增逐笔状态订单结构体XTPTickByTickStatus，为后续交易所行情数据升级做准备 （2）逐笔类型XTP_TBT_TYPE新增枚举类型 XTP_TBT_STATE 状态订单</p><p>version 2.2.31.1</p><p>（1）TradeAPI新增新版根据报单ID查询普通报单接口QueryOrderByXTPIDEx() （2）TradeAPI新增新版查询普通报单接口QueryOrdersEx() （3）TradeAPI新增新版查询未完结普通报单接口QueryUnfinishedOrdersEx() （4）TradeAPI新增新版查询普通报单相关接口对应的回调函数接口OnQueryOrderEx()，为用户提供更丰富的查询信息，例如拒单原因 （5）TradeAPI新增新版分页查询普通报单接口QueryOrdersByPageEx() （6）TradeAPI新增新版分页查询普通报单接口对应的回调函数接口OnQueryOrderByPageEx()，为用户提供更丰富的查询信息，例如拒单原因 （7）TradeAPI新增新版查询组合策略期权报单接口QueryOptionCombinedOrdersEx() （8）TradeAPI新增新版根据报单ID查询组合策略期权报单接口QueryOptionCombinedOrderByXTPIDEx() （9）TradeAPI新增新版查询组合策略期权未完结报单接口QueryOptionCombinedUnfinishedOrdersEx() （10）TradeAPI新增新版查询组合策略期权报单相关接口对应的回调函数接口OnQueryOptionCombinedOrdersEx()，为用户提供更丰富的查询信息，例如拒单原因 （11）TradeAPI新增新版分页查询组合策略期权报单接口QueryOptionCombinedOrdersByPageEx() （12）TradeAPI新增新版分页查询组合策略期权报单接口对应的回调函数接口OnQueryOptionCombinedOrdersByPageEx()，为用户提供更丰富的查询信息，例如拒单原因</p><p>version 2.2.30.7</p><p>（1）XTP_SECURITY_TYPE 新增 XTP_SECURITY_ETF_CROSS_BORDER_STOCK 跨境ETF类型<br> （2）XTP新增跨境ETF的买卖业务（申赎业务暂不支持）<br> （3）修复QuoteAPI在UDP连接中使用单订阅函数订阅行情且最后一个是无效订阅时，无法正确建立UDP连接的bug<br> （4）查询持仓结构体XTPQueryStkPositionRsp中新增持仓类型position_security_type字段，用户可以用此字段区分持仓是否为配股配债类型<br> （5）QuoteAPI新增设定接收线程绑核CPU集接口SetUDPRecvThreadAffinityArray，最多支持4个核，具体使用的核数视实际情况而定<br> （6）QuoteAPI新增设定解析线程绑核CPU集接口SetUDPParseThreadAffinityArray，最多支持4个核，具体使用的核数视实际情况而定<br> （7）QuoteAPI原有的SetUDPRecvThreadAffinity和SetUDPParseThreadAffinity弃用，为了兼容性还保留，但不建议使用<br> （8）QuoteAPI中SetUDPBufferSize()可以设置比以前小一些了，QuoteAPI占用的内存总体可能比以前大了<br> （9）逐笔委托结构体XTPTickByTickEntrust中新增原始订单号order_no字段，并针对上海逐笔委托数据增加部分说明<br> （10）行情全量静态信息结构体XTPQuoteFullInfo中新增证券状态security_status字段，用于区分风险警示板和退市整理板<br> （11）QuoteAPI修复bug - 全订阅/全取消订阅期权数据时，无法正确回调全订阅/全取消订阅响应函数<br> （12）查询资金响应结构体XTPQueryAssetRsp中新增2个期权账户专用字段（期权服务器版本后续即将支持，以服务器版本为准）：交易所实时风险度exchange_cur_risk_degree 和 公司实时风险度company_cur_risk_degree</p><p>version 2.2.30.6</p><p>（1）XTP_SECURITY_TYPE 新增 XTP_SECURITY_ETF_CROSS_BORDER_STOCK 跨境ETF类型 （2）XTP新增跨境ETF的买卖业务（申赎业务暂不支持）</p><p>version 2.2.30.5</p><p>（1）修复QuoteAPI在UDP连接中使用单订阅函数订阅行情且最后一个是无效订阅时，无法正确建立UDP连接的bug</p><p>version 2.2.30.3</p><p>（1）查询持仓结构体XTPQueryStkPositionRsp中新增持仓类型position_security_type字段，用户可以用此字段区分持仓是否为配股配债类型</p><p>version 2.2.30.2</p><p>（1）QuoteAPI新增设定接收线程绑核CPU集接口SetUDPRecvThreadAffinityArray，最多支持4个核，具体使用的核数视实际情况而定<br> （2）QuoteAPI新增设定解析线程绑核CPU集接口SetUDPParseThreadAffinityArray，最多支持4个核，具体使用的核数视实际情况而定<br> （3）QuoteAPI原有的SetUDPRecvThreadAffinity和SetUDPParseThreadAffinity弃用，为了兼容性还保留，但不建议使用<br> （4）QuoteAPI中SetUDPBufferSize()可以设置比以前小一些了，QuoteAPI占用的内存总体可能比以前大了<br> （5）逐笔委托结构体XTPTickByTickEntrust中新增原始订单号order_no字段，并针对上海逐笔委托数据增加部分说明<br> （6）行情全量静态信息结构体XTPQuoteFullInfo中新增证券状态security_status字段，用于区分风险警示板和退市整理板</p><p>version 2.2.27.6</p><p>（1）QuoteAPI修复bug - 全订阅/全取消订阅期权数据时，无法正确回调全订阅/全取消订阅响应函数<br> （2）查询资金响应结构体XTPQueryAssetRsp中新增2个期权账户专用字段（期权服务器版本后续即将支持，以服务器版本为准）：交易所实时风险度exchange_cur_risk_degree 和 公司实时风险度company_cur_risk_degree</p><p>version 2.2.27.5</p><p>（1）XTPStrategyStateReportStruct结构体新增2个参数：m_strategy_unclosed_qty 策略未平仓数量(T0卖出数量-买入数量) 和 m_strategy_asset_diff 策略执行绩效(T0资金预净收入) （2）TraderApi新增查询其他服务器节点可用资金接口 QueryOtherServerFund() （3）TraderSpi新增查询其他服务器节点可用资金响应接口 OnQueryOtherServerFund()</p><p>version 2.2.27.4</p><p>（1）ALGOUserEstablishChannel()接口参数中减少硬件信息相关参数输入 （2）去除CreateStrategy、CancelStrategy、StartStrategy、StopStrategy、DestroyStrategy以及对应的Spi回调接口 （3）新增InsertAlgoOrder() 、CancelAlgoOrder() 2个接口以及对应的Spi回调接口，替代（2）中提到的5个接口</p><p>version 2.2.27.2</p><p>（1）查询持仓结构体XTPQueryStkPositionRsp中新增盈亏成本profit_cost和买入成本buy_cost2个字段<br> （2）TradeAPI新增期权行权合并头寸查询接口QueryOptionCombinedExecPosition()</p><p>version 2.2.26.3</p><p>（1）查询持仓结构体XTPQueryStkPositionRsp中新增profit_price盈亏成本价字段</p><p>version 2.2.25.7</p><p>（1）用户终端信息XTPUserTerminalInfoReq结构体中新增客户端版本client_version字段和仅MacOS系统使用的macos_sno字段</p><p>version 2.2.25.5</p><p>（1）XTPQuoteFullInfo结构体中uint字段修改为uni字段</p><p>version 2.2.25.4</p><p>（1）QuoteAPI新增查询合约全量静态数据接口QueryAllTickersFullInfo()</p><p>version 2.2.25.3</p><p>（1）TradeAPI新增组合策略期权相关功能接口<br> （2）XTP_SIDE_TYPE新增期权组合策略业务相关枚举值<br> （3）XTP_BUSINESS_TYPE新增期权组合策略业务相关枚举值（组合拆分时使用）<br> （4）TradeAPI新增期权组合策略报单录入请求接口InsertOptionCombinedOrder()<br> （5）TradeAPI新增期权组合策略撤单请求接口CancelOptionCombinedOrder()<br> （6）TradeAPI新增期权组合策略查询未完结报单接口QueryOptionCombinedUnfinishedOrders()<br> （7）TradeAPI新增期权组合策略根据报单ID查询报单接口QueryOptionCombinedOrderByXTPID()<br> （8）TradeAPI新增期权组合策略查询报单接口QueryOptionCombinedOrders()<br> （9）TradeAPI新增期权组合策略分页查询报单接口QueryOptionCombinedOrdersByPage()<br> （10）TradeAPI新增期权组合策略根据报单ID查询成交接口QueryOptionCombinedTradesByXTPID<br> （11）TradeAPI新增期权组合策略查询成交回报接口QueryOptionCombinedTrades()<br> （12）TradeAPI新增期权组合策略分页查询成交回报接口QueryOptionCombinedTradesByPage()<br> （13）TradeAPI新增期权组合策略查询持仓接口QueryOptionCombinedPosition()<br> （14）TradeAPI新增期权组合策略查询组合策略信息接口QueryOptionCombinedStrategyInfo</p><p>version 2.2.24.2</p><p>（1）QuoteAPI新增接收行情线程绑定CPU接口SetUDPRecvThreadAffinity()<br> （2）QuoteAPI新增解析行情线程绑定CPU接口SetUDPParseThreadAffinity()<br> （3）QuoteAPI新增设定异步日志是否输出的接口SetUDPSeqLogOutPutFlag()<br> （4）TradeAPI新增查询未完结订单接口QueryUnfinishedOrders()<br> （5）TradeAPI新增查询信用账户余券信息接口QueryMulCreditExcessStock()<br> （6）TradeAPI新增报单查询分页接口QueryOrdersByPage()<br> （7）TradeAPI新增成交回报分页查询接口QueryTradesByPage()</p><p>version 2.2.23.2</p><p>（1）TradeAPI新增负债合约展期接口CreditExtendDebtDate()<br> （2）TradeAPI新增查询融资融券业务中账戶的附加信息接口QueryCreditFundExtraInfo()<br> （3）TradeAPI新增查询融资融券业务中账戶指定证券的附加信息接口QueryCreditPositionExtraInfo()<br> （4）TradeAPI新增查询融资融券业务中负债合约展期接口QueryCreditExtendDebtDateOrders()<br> （5）结构体XTPCrdDebtStockInfo中的 remain_quantity 字段更名为 stock_repay_quantity<br> （6）新股申购查询结构体XTPQueryIPOTickerRsp中新增对科创板新股的支持<br> （7）新股申购额度查询结构体XTPQueryIPOQuotaRsp中新增科创板额度</p><p>version 2.2.15.1</p><p>（1）优化行情UDP接收</p><p>version 2.2.14.2</p><p>（1）TradeAPI支持一账号两中心节点之间的资金划拨<br> （2）XTP_FUND_TRANSFER_TYPE增加节点之间的资金划拨方向枚举值</p><p>version 2.2.14.1</p><p>（1）单条融资融券负债记录信息结构体XTPCrdDebtInfo中增加字段（应偿还权益数量due_right_qty）</p><p>version 2.2.13.2</p><p>（1）TradeAPI新增对融资融券业务的支持<br> （2）查询资金结构体XTPQueryAssetRsp新增信用账户专用字段（融券卖出所得资金余额repay_stock_aval_banlance）<br> （3）XTP_SIDE_TYPE新增信用业务相关枚举值<br> （4）XTP_POSITION_EFFECT_TYPE新增信用业务相关枚举值（强平时使用）<br> （5）TradeAPI新增融资融券业务中现金直接还款接口CreditCashRepay()<br> （6）TradeAPI新增查询融资融券业务中现金直接还款报单接口QueryCreditCashRepayInfo()<br> （7）TradeAPI新增查询信用账户特有信息接口QueryCreditFundInfo()<br> （8）TradeAPI新增查询信用账户负债合约信息接口QueryCreditDebtInfo()<br> （9）TradeAPI新增查询指定证券负债未还信息接口QueryCreditTickerDebtInfo()<br> （10）TradeAPI新增查询信用账户待还资金信息接口QueryCreditAssetDebtInfo()<br> （11）TradeAPI新增查询信用账户可融券头寸信息接口QueryCreditTickerAssignInfo()<br> （12）TradeAPI新增融资融券业务中请求查询指定证券的余券接口QueryCreditExcessStock()</p><p>version 1.1.18.14</p><p>（1）TXTPTradeTypeType 新增跨市场资金成交枚举值 XTP_TRDT_CROSS_MKT_CASH<br> （2）TradeAPI新增跨市场ETF业务支持</p><p>version 1.1.18.13</p><p>（1）修复QuoteAPI在linux下使用UDP连接会crash的bug</p><p>version 1.1.18.12</p><p>（1）QuoteAPI修改笔误，将exchage_id更改为为exchange_id<br> （2）修改头文件编码，从GB2312改为UTF-8</p><p>version 1.1.18.9</p><p>（1）TradeAPI新增对期权业务的支持（business_type = XTP_BUSINESS_TYPE_OPTION）<br> （2）查询持仓结构体XTPQueryStkPositionRsp中新增部分字段（持仓方向position_direction，可行权合约executable_option，可锁定标的lockable_position，可行权标的executable_underlying，已锁定标的locked_position，可用已锁定标的usable_locked_position ）<br> （3）TradeAPI新增查询期权合约接口OnQueryOptionAuctionInfo()<br> （4）XTP_SIDE_TYPE由int32的枚举类型变更为uint8类型的枚举值<br> （5）结构体XTPOrderInsertInfo、XTPOrderInfo、XTPTradeReport中新增开平标识字段position_effect用于期权业务（普通股票业务position_effect = XTP_POSITION_EFFECT_INIT）<br> （6）XTP_PRICE_TYPE新增枚举值：期权限价申报FOK XTP_PRICE_LIMIT_OR_CANCEL<br> （7）查询资金结构体XTPQueryAssetRsp中新增部分字段（冻结的保证金frozen_margin，行权冻结资金frozen_exec_cash，行权费用frozen_exec_fee，垫付资金pay_later，预垫付资金preadva_pay，昨日余额orig_banlance，当前余额banlance，当天出入金deposit_withdraw，当日交易资金轧差trade_netting，资金资产captial_asset，强锁资金force_freeze_amount，可取资金preferred_amount）<br> （8）QuoteAPI新增对期权行情的支持（复用原有的单订阅函数）<br> （9）QuoteAPI的全市场订阅函数中，均新增exchage_id参数，用户可以进行单市场全订阅了（exchage_id = XTP_EXCHANGE_UNKNOWN 表示全市场订阅），原有的全市场订阅函数仅支持股票行情<br> （10）QuoteAPI新增期权全市场行情订阅/取消订阅函数SubscribeAllOptionMarketData()/UnSubscribeAllOptionMarketData()<br> （11）QuoteAPI新增期权全市场行情订阅/取消订阅函数SubscribeAllOptionOrderBook()/UnSubscribeAllOptionOrderBook()<br> （12）QuoteAPI新增期权全市场行情订阅/取消订阅函数SubscribeAllOptionTickByTick()/UnSubscribeAllOptionTickByTick()</p><p>version 1.1.16.20</p><p>（1）去除对sodium库的依赖<br> （2）修复某些虚拟机环境下，由于无法获取mac地址，导致crash的bug<br> （3）修复行情api在使用UDP连接时，在丢包严重时会导致连续丢包的bug<br> （4）添加mac os系统支持</p><p>version 1.1.16.13</p><p>（1）修复使用win32版本的库进行查询操作，查询结果可能与查询条件不匹配的bug</p><p>version 1.1.16.9</p><p>（1）QuoteAPI新增UDP连接方式<br> （2）QuoteAPI新增全订阅、全退订接口<br> （3）QuoteAPI支持OrderBook（即level2plus）订阅、退订<br> （4）QuoteAPI支持逐笔委托/成交的订阅、退订<br> （5）QuoteAPI新增查询合约最新价接口<br> （6）QuoteSPI弃用原有OnMarketData()回调函数<br> （7）QuoteSPI启用含有买一卖一队列的OnDepthMarketData()回调函数<br> （8）QuoteAPI新增修改默认缓存队列的大小接口SetUDPBufferSize()，单位为MB，默认大小为64MB（不可更改为比64MB更小的缓存<br> （9）TradeAPI新增新股申购额度查询接口QueryIPOQuotaInfo()<br> （10）TradeAPI新增新股申购信息列表查询接口QueryIPOInfoList()<br> （11）TradeAPI回调接口中新增session_id参数<br> （12）TradeAPI和QuoteAPI新增心跳检测超时时间设置接口SetHeartBeatInterval()</p><p>version 1.1.16.1</p><p>（1）TradeAPI新增查询ETF清单接口QueryETF<br> （2）TradeAPI新增查询ETF股票篮接口QueryETFTickerBasket<br> （3）TradeAPI新增支持ETF申赎业务（business_type = XTP_BUSINESS_TYPE_ETF， side = XTP_SIDE_PURCHASE或XTP_SIDE_REDEMPTION）<br> （4）查询资金回报结构体XTPQueryAssetRsp增加部分字段<br> （5）查询持仓回报的结构体XTPQueryStkPositionRsp增加了部分字段</p><p>version 1.1.15.101</p><p>（1）TradeAPI新增分级基金申赎业务（business_type = XTP_BUSINESS_TYPE_STRUCTURED_FUND_PURCHASE_REDEMPTION，side = XTP_SIDE_PURCHASE或者XTP_SIDE_REDEMPTION）<br> （2）TradeAPI新增分级基金拆分合并业务（business_type = XTP_BUSINESS_TYPE_STRUCTURED_FUND_SPLIT_MERGE，side = XTP_SIDE_SPLIT或XTP_SIDE_MERGE）<br> （3）TradeAPI新增分级基金查询功能QueryStructuredFund<br> （4）TradeAPI新增客户资金划拨功能接口FundTransfer<br> （5）TradeAPI新增查询客户资金划拨接口QueryFundTransfer</p><p>version 1.1.14.1</p><p>（1）XTP_BUSINESS_TYPE 新增部分业务类型<br> （2）XTP系统支持逆回购和配股业务<br> （3）XTP_TICKER_TYPE证券类型中新增XTP_TICKER_TYPE_BOND债券类型</p><p>version 1.1.13.10</p><p>（1）结构体XTPQuoteStaticInfo中新增一个字段：<br> ///最小变动价位<br> double price_tick;</p><p>version 1.1.13.8</p><p>（1）结构体XTPQueryAssetRsp新增1个字段：<br> ///预扣的资金（包括购买卖股票时预扣的交易资金+预扣手续费）<br> double withholding_amount;</p><p>version 1.1.13.3</p><p>（1）结构体XTPOrderInsertInfo，XTPOrderInfo，XTPTradeReport新增business_type字段<br> （2）结构体XTPMarketDataStruct中部分字段类型由int32_t变为int64_t<br> （3）新增新股申购业务功能<br> （4）开放order_client_id字段，去除限制</p><p>version 1.1.12.7</p><p>（1）修复linux下使用相对路径或者多线程创建日志目录导致程序core dump的bug<br> （2）api的Create接口中增加调整日志输出级别参数<br> （3）修复调用Release()导致程序崩溃的bug</p><p>version 1.1.10.0</p><p>（1）XTPQuoteAPI新增查询所有可交易合约接口<br> （2）去掉部分无用的数据结构和宏定义：包括<br> （<br> XTP_TICKER_LEN<br> XTP_TICKER_NAME_LEN<br> XTP_TICKERNAME_LEN<br> XTP_API_TICKER_LEN<br> XTP_API_TICKER_NAME_LEN<br> TXTPTickerType<br> TXTPTickerNameType<br> ）<br> 统一归整成：<br> XTP_TICKER_LEN<br> XTP_TICKER_NAME_LEN</p><p>version 1.1.8.2</p><p>（1）修正多个用户登录服务器，当部分用户断线，而部分用户不断线，此时断线用户重新登录时可能会丢失部分消息包的bug</p><p>version 1.1.8.0</p><p>（1）修改通讯协议</p><p>version 1.1.7.2</p><p>（1）清除目录下一周前的日志文件<br> （2）当传入的路径不存在时，尝试创建路径<br> （3）增加SetSoftwareKey()接口，其中key为客户申请开户时分配<br> （4）减少SetSoftwareCode()接口<br> （5）获取不到mac地址或者硬盘序列号时，强制性登录失败</p><p>version 1.1.6.2</p><p>（1）GetApiLastError（）接口的返回值，从 int32_t 变为 XTPRI*<br> （2）查询持仓响应接口中增加 market 字段</p><p><br><br></p></div><!--[--><!----><!--]--><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="vp-link vp-meta-label" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/src/docs/API_DOC_XTP_API接口说明与示例代码 - XAlgo/版本更新介绍.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><!----></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 1247776138@qq.com">linxiaolx-lx</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link vp-link prev" href="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/TraderSpi.html" aria-label="/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/TraderSpi.html"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->/docs/API_DOC_XTP_API%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E%E4%B8%8E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%20-%20XAlgo/TraderSpi.html</div></a><!----></nav><div id="vp-comment" class="giscus-wrapper input-top" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg></div><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">默认页脚</div><div class="vp-copyright">Copyright © 2024 xtp_master </div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-C9BeCxEA.js" defer></script>
  </body>
</html>
